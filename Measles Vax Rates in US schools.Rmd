---
title: "Who's Getting Vaccinated for Measles in U.S. Schools?"
author: "*Abby Isaacson*"
date: "3/22/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introduction

> Could student vaccination rates for Measles, Mumps and Rubella (MMR) possibly predict COVID-19 vaccination rates among children, once a safe child vaccine becomes available?

Measles is disease that was essentially suppressed for 25 years in the U.S. through vaccination, but **showed a significant resurgence** in 2019.

This report examines data from 32 states that collected student measles vaccination data between 2017 and 2019 to remind us how many students are abiding by state vaccine recommendations for Measles, and how many may request personal, medical or religious exemptions. Viewing Measles vaccination rates by school type and location could help target future vaccination outreach efforts for COVID-19 and prevent disease outbreaks among students in the future.

```{r}
library(tidyverse)
library(janitor)
```

#Get the Data
```{r}
measles <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-02-25/measles.csv')
```
```{r}
measles
```
```{r}
measles %>% 
  clean_names()
```
#Number of Schools Reporting Vaccination Data, by State

```{r}
measles %>% 
  count(state)
```
#Mean US Measles Vaccination Rate
```{r}
measles %>% 
  summarize(mean_mmr_rate = mean(mmr))
```
# Mean US Vaccination Rate overall
```{r}
measles %>% 
  summarize(mean_allvax_rate = mean(overall), number_of_responses = n())
```
#Mean Measles Vaccination Rates by State
```{r}
measles %>% 
  group_by(state) %>% 
  summarize(mean_mmr_rate = mean(mmr))
```
##Note: figure out what negative vaccination rate means
  
#Mean Vaccination Rates by State and School Type
```{r}
measles %>% 
  group_by(state,type) %>% 
  summarize(mean_mmr_rate = mean(mmr))
```
##Note: BOCES (Boards of Cooperative Educational Services) is a shared educational service offered in New York.

#US Measles Vaccination Rates by School Type
```{r}
measles %>% 
  group_by(type) %>% 
  drop_na(type) %>% 
  summarize(mean_mmr_rate = mean(mmr))
```


#Percent of All Schools with Religious Exemptions
```{r}
measles %>% 
  count(xrel)
```
##Note: Not many schools reported or had religious exemptions (190), so not sure how to change "TRUE" response to a %?  

#Percent of Exemptions by State and School Type
```{r}
measles %>% 
  group_by(state) %>% 
  count(state,type,xrel,xmed,xper)
```
##Note: how to combine or average % for each exemption by type and state would be a next step I'm not ready for.

#Exemptions by State
```{r}
measles %>% 
  group_by(state,xrel,xmed,xper) %>% 
  drop_na(xrel,xmed,xper) %>% 
  summarize(mean_mmr_rate = mean(mmr))
```
##Note: there appears to be only 1 state (WA) that reported data for all three exemption types?
